// Articles data
const articles = {
  "planejamento-financeiro": {
    icon: "star",
    title: "Planejamento Financeiro Pessoal: Guia Completo",
    excerpt:
      "Aprenda a criar um planejamento financeiro sólido e alcance seus objetivos com estratégias comprovadas.",
    category: "planejamento",
    publishDate: "15 de Janeiro, 2025",
    readTime: "12 min de leitura",
    author: "Equipe FinanceFlow",
    summary:
      "O planejamento financeiro é a base para uma vida financeira saudável. Este guia abrangente ensina desde os conceitos básicos até estratégias avançadas para organizar suas finanças, criar um orçamento eficiente e estabelecer metas realistas para o futuro.",
    sections: [
      {
        title: "O que é Planejamento Financeiro?",
        content: [
          "O planejamento financeiro é um processo sistemático de organização e gestão dos recursos financeiros para alcançar objetivos específicos. Ele envolve a análise da situação atual, definição de metas e criação de estratégias para atingi-las.",
          "Um bom planejamento financeiro considera não apenas a renda e gastos atuais, mas também projeta cenários futuros, incluindo emergências, aposentadoria e grandes aquisições.",
          "Este processo é fundamental para quem deseja ter controle sobre suas finanças e construir um futuro financeiro sólido e próspero.",
        ],
        tips: [
          "Comece sempre com um diagnóstico completo da sua situação atual",
          "Defina metas específicas, mensuráveis e com prazo determinado",
          "Revise seu planejamento pelo menos a cada 6 meses",
        ],
      },
      {
        title: "Passos para Criar seu Planejamento",
        content: [
          "O primeiro passo é fazer um levantamento completo de sua situação financeira atual. Isso inclui listar todas as fontes de renda, gastos fixos e variáveis, dívidas e investimentos.",
          "Em seguida, categorize seus gastos para identificar onde seu dinheiro está sendo usado. Divida em categorias como moradia, alimentação, transporte, lazer e outros.",
          "Defina seus objetivos financeiros de curto, médio e longo prazo. Objetivos de curto prazo podem incluir a criação de uma reserva de emergência, enquanto objetivos de longo prazo podem envolver a compra de um imóvel ou aposentadoria.",
          "Crie um orçamento mensal que equilibre receitas e despesas, sempre reservando uma parte para poupança e investimentos.",
        ],
      },
      {
        title: "Ferramentas e Estratégias",
        content: [
          "Utilize aplicativos de controle financeiro para automatizar o acompanhamento de gastos. Muitos bancos oferecem ferramentas integradas que categorizam automaticamente suas transações.",
          "Implemente a regra 50-30-20: 50% da renda para necessidades, 30% para desejos e 20% para poupança e investimentos.",
          "Crie múltiplas contas bancárias para diferentes propósitos: uma para gastos do dia a dia, outra para reserva de emergência e uma terceira para investimentos.",
          "Automatize suas finanças sempre que possível. Configure transferências automáticas para poupança e investimentos logo após receber o salário.",
        ],
        tips: [
          "Use a tecnologia a seu favor com apps de controle financeiro",
          "Automatize transferências para evitar a tentação de gastar",
          "Revise e ajuste seu orçamento mensalmente",
        ],
      },
    ],
  },
  "analise-investimentos": {
    icon: "trending-up",
    title: "Análise de Investimentos: Como Escolher os Melhores",
    excerpt:
      "Descubra como analisar investimentos de forma profissional e construir uma carteira diversificada.",
    category: "Investimentos",
    publishDate: "12 de Janeiro, 2025",
    readTime: "15 min de leitura",
    author: "Equipe FinanceFlow",
    summary:
      "Investir de forma inteligente requer conhecimento e análise criteriosa. Este artigo ensina como avaliar diferentes tipos de investimentos, entender riscos e retornos, e construir uma carteira diversificada que se alinha com seus objetivos financeiros.",
    sections: [
      {
        title: "Fundamentos da Análise de Investimentos",
        content: [
          "A análise de investimentos é o processo de avaliar ativos financeiros para determinar seu potencial de retorno e risco. Ela envolve tanto análise quantitativa quanto qualitativa.",
          "Existem dois tipos principais de análise: fundamentalista e técnica. A análise fundamentalista foca nos fundamentos econômicos e financeiros do ativo, enquanto a técnica analisa padrões de preço e volume.",
          "Para investidores iniciantes, é crucial entender conceitos básicos como risco, retorno, liquidez e diversificação antes de começar a investir.",
        ],
      },
      {
        title: "Tipos de Investimentos",
        content: [
          "Renda Fixa: Inclui títulos do governo (Tesouro Direto), CDBs, LCIs e LCAs. São investimentos mais conservadores com retorno previsível.",
          "Renda Variável: Ações, fundos imobiliários (FIIs) e ETFs. Oferecem maior potencial de retorno, mas com maior volatilidade.",
          "Fundos de Investimento: Permitem diversificação mesmo com valores menores, sendo gerenciados por profissionais especializados.",
          "Investimentos Alternativos: Criptomoedas, commodities e investimentos no exterior, que podem adicionar diversificação à carteira.",
        ],
        tips: [
          "Comece sempre com renda fixa para entender o mercado",
          "Diversifique entre diferentes classes de ativos",
          "Nunca invista dinheiro que você pode precisar no curto prazo",
        ],
      },
      {
        title: "Construindo uma Carteira Diversificada",
        content: [
          "A diversificação é fundamental para reduzir riscos. Distribua seus investimentos entre diferentes classes de ativos, setores e geografias.",
          "Uma carteira balanceada para investidores moderados pode incluir 60% em renda fixa, 30% em ações e 10% em investimentos alternativos.",
          "Rebalanceie sua carteira periodicamente para manter a alocação desejada, vendendo ativos que se valorizaram muito e comprando os que estão em baixa.",
          "Considere seu perfil de risco, idade e objetivos ao definir a alocação. Investidores mais jovens podem ter maior exposição à renda variável.",
        ],
      },
    ],
  },
  "seguranca-financeira": {
    icon: "shield",
    title: "Segurança Financeira: Protegendo seu Patrimônio",
    excerpt:
      "Estratégias essenciais para proteger seu dinheiro contra fraudes, inflação e outros riscos.",
    category: "Segurança",
    publishDate: "10 de Janeiro, 2025",
    readTime: "10 min de leitura",
    author: "Equipe FinanceFlow",
    summary:
      "A segurança financeira vai além de apenas economizar dinheiro. Envolve proteger seu patrimônio contra diversos riscos, desde fraudes digitais até a erosão do poder de compra pela inflação. Aprenda estratégias práticas para blindar suas finanças.",
    sections: [
      {
        title: "Proteção contra Fraudes Digitais",
        content: [
          "Com o aumento das transações digitais, a segurança online se tornou crucial. Sempre verifique a autenticidade de sites e aplicativos antes de inserir dados financeiros.",
          "Use autenticação de dois fatores em todas as contas bancárias e de investimento. Esta camada extra de segurança pode prevenir acessos não autorizados.",
          "Monitore regularmente seus extratos bancários e de cartão de crédito. Configure alertas para transações acima de determinado valor.",
          "Nunca compartilhe senhas ou dados bancários por telefone, email ou mensagens. Bancos legítimos nunca solicitam essas informações por esses meios.",
        ],
        tips: [
          "Mantenha seus dispositivos sempre atualizados",
          "Use redes Wi-Fi seguras para transações financeiras",
          "Tenha senhas únicas e complexas para cada conta",
        ],
      },
      {
        title: "Reserva de Emergência",
        content: [
          "A reserva de emergência é fundamental para a segurança financeira. Ela deve cobrir de 6 a 12 meses de gastos essenciais.",
          "Mantenha essa reserva em investimentos de alta liquidez, como poupança, CDB com liquidez diária ou fundos DI.",
          "A reserva deve ser usada apenas para emergências reais: perda de emprego, problemas de saúde ou reparos urgentes.",
          "Construa sua reserva gradualmente, destinando pelo menos 10% da renda mensal até atingir o valor ideal.",
        ],
      },
      {
        title: "Proteção contra Inflação",
        content: [
          "A inflação corrói o poder de compra ao longo do tempo. Manter todo dinheiro na poupança pode resultar em perda real de valor.",
          "Diversifique em ativos que historicamente superam a inflação: ações, fundos imobiliários e títulos indexados ao IPCA.",
          "Considere investimentos em ativos reais como imóveis ou commodities, que tendem a se valorizar com a inflação.",
          "Mantenha-se informado sobre indicadores econômicos e ajuste sua estratégia conforme necessário.",
        ],
      },
    ],
  },
  "gestao-cartoes": {
    icon: "credit-card",
    title: "Gestão Inteligente de Cartões de Crédito",
    excerpt:
      "Maximize os benefícios dos cartões de crédito sem cair em armadilhas financeiras.",
    category: "Gestão",
    publishDate: "8 de Janeiro, 2025",
    readTime: "8 min de leitura",
    author: "Equipe FinanceFlow",
    summary:
      "Os cartões de crédito podem ser grandes aliados ou vilões das finanças pessoais. Aprenda a usar essas ferramentas de forma inteligente, aproveitando benefícios como cashback e milhas, enquanto evita as armadilhas dos juros altos.",
    sections: [
      {
        title: "Escolhendo o Cartão Ideal",
        content: [
          "Analise sua rotina de gastos para escolher um cartão que ofereça benefícios alinhados com seu perfil. Se você viaja muito, priorize cartões com milhas.",
          "Compare anuidades, taxas e benefícios. Muitas vezes, um cartão com anuidade pode ser mais vantajoso pelos benefícios oferecidos.",
          "Verifique a rede de aceitação e cobertura internacional se você pretende usar o cartão em viagens.",
          "Considere cartões de diferentes bandeiras para ter mais opções de pagamento e benefícios variados.",
        ],
      },
      {
        title: "Uso Responsável",
        content: [
          "Nunca gaste mais do que pode pagar à vista. O cartão de crédito deve ser uma ferramenta de conveniência, não de financiamento.",
          "Pague sempre o valor total da fatura para evitar juros rotativos, que estão entre os mais altos do mercado.",
          "Use o cartão para gastos planejados e mantenha controle rigoroso através de aplicativos ou planilhas.",
          "Aproveite promoções e cashbacks, mas apenas em compras que já estavam no seu orçamento.",
        ],
        tips: [
          "Configure lembretes para o vencimento das faturas",
          "Use cartões diferentes para categorias específicas de gastos",
          "Monitore seu score de crédito regularmente",
        ],
      },
      {
        title: "Maximizando Benefícios",
        content: [
          "Concentre gastos em cartões que oferecem maior retorno para suas categorias de maior gasto.",
          "Aproveite períodos promocionais com cashback aumentado ou bônus de milhas.",
          "Use programas de fidelidade e parcerias para potencializar ganhos.",
          "Considere cartões corporativos se você tem empresa, pois geralmente oferecem benefícios superiores.",
        ],
      },
    ],
  },
  "relatorios-financeiros": {
    icon: "bar-chart",
    title: "Relatórios Financeiros: Análise e Interpretação",
    excerpt:
      "Entenda como criar e interpretar relatórios financeiros para tomar decisões mais assertivas.",
    category: "Análise",
    publishDate: "5 de Janeiro, 2025",
    readTime: "14 min de leitura",
    author: "Equipe FinanceFlow",
    summary:
      "Relatórios financeiros são ferramentas poderosas para entender a saúde financeira e tomar decisões informadas. Aprenda a criar, interpretar e usar diferentes tipos de relatórios para otimizar sua gestão financeira.",
    sections: [
      {
        title: "Tipos de Relatórios Financeiros",
        content: [
          "Fluxo de Caixa: Mostra entradas e saídas de dinheiro em um período específico. É essencial para entender a liquidez.",
          "Demonstrativo de Resultados: Compara receitas e despesas, mostrando se houve lucro ou prejuízo no período.",
          "Balanço Patrimonial: Apresenta ativos, passivos e patrimônio líquido em uma data específica.",
          "Relatório de Investimentos: Acompanha performance da carteira, rentabilidade e alocação de ativos.",
        ],
      },
      {
        title: "Como Interpretar os Dados",
        content: [
          "Analise tendências ao invés de valores isolados. Compare dados de diferentes períodos para identificar padrões.",
          "Calcule indicadores importantes como taxa de poupança, relação dívida/renda e retorno sobre investimentos.",
          "Identifique categorias de gastos que estão crescendo desproporcionalmente e investigue as causas.",
          "Use gráficos e visualizações para facilitar a compreensão e identificação de tendências.",
        ],
        tips: [
          "Mantenha registros organizados e atualizados",
          "Use ferramentas digitais para automatizar a geração de relatórios",
          "Compartilhe relatórios com seu cônjuge ou consultor financeiro",
        ],
      },
      {
        title: "Tomada de Decisões Baseada em Dados",
        content: [
          "Use os insights dos relatórios para ajustar seu orçamento e estratégias de investimento.",
          "Identifique oportunidades de redução de custos e otimização de gastos.",
          "Monitore o progresso em direção às suas metas financeiras e faça ajustes quando necessário.",
          "Tome decisões de investimento baseadas em dados históricos e projeções fundamentadas.",
        ],
      },
    ],
  },
  "metas-financeiras": {
    icon: "target",
    title: "Definindo e Alcançando Metas Financeiras",
    excerpt:
      "Estratégias práticas para estabelecer metas financeiras realistas e criar planos para alcançá-las.",
    category: "Planejamento",
    publishDate: "3 de Janeiro, 2025",
    readTime: "11 min de leitura",
    author: "Equipe FinanceFlow",
    summary:
      "Metas financeiras bem definidas são o combustível que impulsiona o sucesso financeiro. Aprenda a estabelecer objetivos SMART, criar planos de ação eficazes e manter a motivação ao longo da jornada.",
    sections: [
      {
        title: "Definindo Metas SMART",
        content: [
          'Metas SMART são Específicas, Mensuráveis, Atingíveis, Relevantes e Temporais. Ao invés de "quero economizar dinheiro", defina "quero economizar R$ 10.000 em 12 meses para dar entrada em um apartamento".',
          "Específicas: Defina exatamente o que você quer alcançar. Seja claro sobre valores, prazos e propósitos.",
          "Mensuráveis: Estabeleça critérios quantificáveis para acompanhar o progresso. Use valores em reais e percentuais.",
          "Atingíveis: Seja realista considerando sua renda e capacidade de poupança atual.",
        ],
      },
      {
        title: "Estratégias para Alcançar Metas",
        content: [
          "Divida metas grandes em marcos menores. Uma meta de R$ 50.000 pode ser dividida em 10 marcos de R$ 5.000.",
          "Automatize o processo sempre que possível. Configure transferências automáticas para contas específicas de cada meta.",
          "Crie um sistema de recompensas para marcos atingidos, mas que não comprometa o objetivo principal.",
          "Monitore o progresso regularmente e ajuste estratégias se necessário. Flexibilidade é importante para manter as metas realistas.",
        ],
        tips: [
          "Visualize suas metas com gráficos de progresso",
          "Celebre pequenas vitórias ao longo do caminho",
          "Tenha um plano B para situações imprevistas",
        ],
      },
      {
        title: "Mantendo a Motivação",
        content: [
          'Conecte suas metas financeiras com seus valores e sonhos pessoais. Entenda o "porquê" por trás de cada objetivo.',
          "Compartilhe suas metas com pessoas próximas que possam oferecer apoio e accountability.",
          "Documente sua jornada com fotos, anotações ou vídeos. Isso ajuda a manter o foco nos momentos difíceis.",
          "Revise e ajuste metas conforme sua vida muda. Flexibilidade é chave para o sucesso a longo prazo.",
        ],
      },
    ],
  },
};

// Icon SVGs
const icons = {
  star: '<path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>',
  "trending-up":
    '<polyline points="22,12 18,12 15,21 9,3 6,12 2,12"></polyline>',
  shield: '<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',
  "credit-card":
    '<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',
  "bar-chart":
    '<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',
  target:
    '<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',
  calendar:
    '<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',
  clock:
    '<circle cx="12" cy="12" r="10"></circle><polyline points="12,6 12,12 16,14"></polyline>',
  user: '<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',
};

// Utility Functions
function scrollToSection(sectionId) {
  const element = document.getElementById(sectionId);
  if (element) {
    element.scrollIntoView({ behavior: "smooth" });
  }
}

function getIcon(iconName) {
  return icons[iconName] || icons["star"];
}

// Header scroll effect
function handleHeaderScroll() {
  const header = document.getElementById("header");
  const scrolled = window.scrollY > 50;

  if (scrolled) {
    header.classList.add("scrolled");
  } else {
    header.classList.remove("scrolled");
  }
}

// Mobile menu toggle
function toggleMobileMenu() {
  const mobileNav = document.getElementById("mobileNav");
  const mobileMenuBtn = document.getElementById("mobileMenuBtn");

  mobileNav.classList.toggle("active");
  mobileMenuBtn.classList.toggle("active");
}

// FAQ toggle
function toggleFAQ(index) {
  const faqItems = document.querySelectorAll(".faq-item");
  const currentItem = faqItems[index];

  // Close all other items
  faqItems.forEach((item, i) => {
    if (i !== index) {
      item.classList.remove("active");
    }
  });

  // Toggle current item
  currentItem.classList.toggle("active");
}

// Scroll animations
function initScrollAnimations() {
  const observerOptions = {
    threshold: 0.1,
    rootMargin: "0px 0px -50px 0px",
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("animate-in");
      }
    });
  }, observerOptions);

  const animateElements = document.querySelectorAll(".scroll-animate");
  animateElements.forEach((el) => observer.observe(el));
}

// Article modal functions
function openArticle(slug) {
  const article = articles[slug];
  if (!article) return;

  const modal = document.getElementById("articleModal");
  const content = document.getElementById("articleContent");

  content.innerHTML = generateArticleHTML(article);
  modal.classList.add("active");
  document.body.style.overflow = "hidden";
}

function closeArticle() {
  const modal = document.getElementById("articleModal");
  modal.classList.remove("active");
  document.body.style.overflow = "auto";
}

function generateArticleHTML(article) {
  let sectionsHTML = "";

  article.sections.forEach((section) => {
    let contentHTML = "";
    section.content.forEach((paragraph) => {
      contentHTML += `<p>${paragraph}</p>`;
    });

    let tipsHTML = "";
    if (section.tips) {
      tipsHTML = `
                <div class="tips-box">
                    <h3 class="tips-title">💡 Dicas Importantes</h3>
                    <ul class="tips-list">
                        ${section.tips.map((tip) => `<li>${tip}</li>`).join("")}
                    </ul>
                </div>
            `;
    }

    sectionsHTML += `
            <div class="article-section">
                <h2 class="section-title-article">${section.title}</h2>
                ${contentHTML}
                ${tipsHTML}
            </div>
        `;
  });

  return `
        <div class="article-header">
            <div class="article-category">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    ${getIcon(article.icon)}
                </svg>
                <span>${article.category}</span>
            </div>
            
            <h1 class="article-title">${article.title}</h1>
            
            <p class="article-excerpt">${article.excerpt}</p>

            <div class="article-meta">
                <div class="meta-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        ${getIcon("calendar")}
                    </svg>
                    ${article.publishDate}
                </div>
                <div class="meta-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        ${getIcon("clock")}
                    </svg>
                    ${article.readTime}
                </div>
                <div class="meta-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        ${getIcon("user")}
                    </svg>
                    ${article.author}
                </div>
            </div>
        </div>

        <div class="article-summary">
            <h2 class="summary-title">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    ${getIcon("trending-up")}
                </svg>
                Resumo Executivo
            </h2>
            <p>${article.summary}</p>
        </div>

        ${sectionsHTML}

        <div class="article-cta">
          <h3>Pronto para começar?</h3>
          <p>Aplique esses conhecimentos e transforme sua vida financeira hoje mesmo.</p>
          <button onclick="window.location.href='https://kiwify.app/Hcexo0J?afid=MnuS9RUg'">Ver O Curso</button>
        </div>
    `;
}

// Event Listeners
document.addEventListener("DOMContentLoaded", function () {
  // Initialize scroll animations
  initScrollAnimations();

  // Header scroll effect
  window.addEventListener("scroll", handleHeaderScroll);

  // Mobile menu toggle
  document
    .getElementById("mobileMenuBtn")
    .addEventListener("click", toggleMobileMenu);

  // Close mobile menu when clicking on links
  document.querySelectorAll(".mobile-nav-link").forEach((link) => {
    link.addEventListener("click", () => {
      document.getElementById("mobileNav").classList.remove("active");
      document.getElementById("mobileMenuBtn").classList.remove("active");
    });
  });

  // Smooth scroll for navigation links
  document.querySelectorAll('a[href^="#"]').forEach((link) => {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      const targetId = this.getAttribute("href").substring(1);
      scrollToSection(targetId);
    });
  });

  // Close modal when clicking outside
  document
    .getElementById("articleModal")
    .addEventListener("click", function (e) {
      if (e.target === this) {
        closeArticle();
      }
    });

  // Close modal with Escape key
  document.addEventListener("keydown", function (e) {
    if (e.key === "Escape") {
      closeArticle();
    }
  });
});
